<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Segudab — Catálogo de productos</title>

  <style>
    :root {
      --color-bg-dark: #050505;
      --color-bg-light: #f5f5f5;
      --color-primary: #e00000;
      --color-primary-dark: #b30000;
      --color-accent: #f4c542;
      --color-text: #111111;
      --max-width: 1200px;
    }

    * { box-sizing: border-box; }

    body {
      margin: 0;
      font-family: system-ui, sans-serif;
      background: var(--color-bg-light);
    }

    /* Top bar */
    .top-bar {
      background: #000;
      color: #fff;
      font-size: 13px;
      padding: 6px 16px;
      display: flex;
      justify-content: center;
      gap: 16px;
    }

    /* Nav */
    header {
      background: #000;
      color: #fff;
      padding: 12px 30px;
      position: sticky;
      top: 0;
      z-index: 999;
      box-shadow: 0 2px 8px rgba(0,0,0,0.4);
    }

    .nav-inner {
      max-width: var(--max-width);
      margin: 0 auto;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .logo {
      display: flex;
      align-items: center;
      gap: 10px;
      color: #fff;
      text-decoration: none;
    }

    .logo-img {
      width: 48px;
      height: 48px;
      border-radius: 6px;
      background: url('logo.png') center/cover no-repeat;
    }

    .logo-text {
      display: flex;
      flex-direction: column;
      font-size: 13px;
      text-transform: uppercase;
    }

    .logo-text strong {
      font-size: 20px;
      letter-spacing: 1px;
    }

    nav {
      display: flex;
      gap: 20px;
      font-size: 14px;
      text-transform: uppercase;
    }

    nav a {
      color: #fff;
      padding-bottom: 3px;
      border-bottom: 2px solid transparent;
      transition: .2s;
      text-decoration: none;
    }

    nav a:hover {
      border-color: var(--color-primary);
      color: var(--color-accent);
    }

    .nav-cta {
      background: var(--color-primary);
      padding: 8px 16px;
      border-radius: 999px;
      font-weight: 600;
    }

    /* Hero */
    .hero {
      background: radial-gradient(circle at top left, #333 0, #000 45%, #111 100%);
      color: #fff;
      padding: 60px 20px;
    }

    .hero-inner {
      max-width: var(--max-width);
      margin: 0 auto;
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 40px;
      align-items: center;
    }

    .hero-title {
      font-size: 40px;
      text-transform: uppercase;
      font-weight: 800;
    }

    .hero-subtitle {
      font-size: 18px;
      text-transform: uppercase;
      color: #ddd;
      margin-bottom: 12px;
    }

    .hero-text {
      color: #ddd;
      max-width: 480px;
      margin-bottom: 20px;
      font-size: 15px;
    }

    .btn {
      display: inline-flex;
      align-items: center;
      padding: 12px 24px;
      border-radius: 999px;
      text-transform: uppercase;
      font-weight: 600;
      cursor: pointer;
      transition: .15s;
      text-decoration: none;
    }

    .btn-primary {
      background: var(--color-primary);
      color: #fff;
      box-shadow: 0 6px 14px rgba(224,0,0,0.5);
    }

    .btn-primary:hover {
      background: var(--color-primary-dark);
    }

    .hero-buttons { margin-top: 12px; }

    /* Aviso */
    .notice-bar {
      background: var(--color-primary);
      color: #fff;
      padding: 10px;
      text-align: center;
      font-size: 13px;
      margin-bottom: 20px;
    }

    /* Section */
    .section { padding: 50px 20px; }

    .section-inner {
      max-width: var(--max-width);
      margin: 0 auto;
      text-align: left;
    }

    .section-title {
      font-size: 26px;
      text-transform: uppercase;
      margin-bottom: 10px;
    }

    .section-subtitle {
      font-size: 14px;
      color: #777;
      margin-bottom: 30px;
    }

    /* --- CATÁLOGO & CARRITO --- */

    .catalog-layout {
      max-width: var(--max-width);
      margin: 0 auto;
      display: grid;
      grid-template-columns: minmax(0, 3fr) minmax(0, 1.3fr);
      gap: 24px;
      align-items: flex-start;
      padding: 0 10px;
      justify-content: center;
    }

    .product-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
      gap: 20px;
    }

    .product-card {
      background: #fff;
      border-radius: 14px;
      overflow: hidden;
      box-shadow: 0 4px 10px rgba(0,0,0,0.08);
      display: flex;
      flex-direction: column;
    }

    .product-image {
      height: 170px;
      background-size: cover;
      background-position: center;
    }

    .product-body {
      padding: 14px 16px 16px;
      text-align: left;
    }

    .product-name {
      font-size: 16px;
      font-weight: 700;
      margin-bottom: 6px;
    }

    .product-desc {
      font-size: 13px;
      color: #555;
      margin-bottom: 8px;
    }

    .product-tag {
      display: inline-block;
      font-size: 11px;
      text-transform: uppercase;
      background: #eee;
      padding: 2px 8px;
      border-radius: 999px;
      margin-bottom: 8px;
    }

    .product-footer {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-top: 6px;
    }

    .product-price {
      font-weight: 700;
      font-size: 15px;
      color: var(--color-primary);
    }

    .btn-small {
      padding: 8px 14px;
      font-size: 12px;
      border-radius: 999px;
      border: none;
      background: var(--color-primary);
      color: #fff;
      cursor: pointer;
      font-weight: 600;
    }

    .btn-small:hover {
      background: var(--color-primary-dark);
    }

    /* Columna derecha: filtros + carrito */
    .sidebar {
      display: flex;
      flex-direction: column;
      gap: 16px;
      align-items: stretch;
    }

    /* FILTROS */
    .filters {
      background: #fff;
      padding: 16px 18px;
      border-radius: 12px;
      box-shadow: 0 4px 10px rgba(0,0,0,0.08);
      text-align: left;
      width: 100%;
    }

    .filters h3 {
      margin: 0 0 10px;
      font-size: 16px;
      text-transform: uppercase;
    }

    .filter-buttons {
      display: flex;
      flex-wrap: wrap;
      gap: 8px;
      margin-bottom: 10px;
    }

    .filter-btn {
      border-radius: 999px;
      border: 1px solid #ccc;
      background: #f7f7f7;
      padding: 6px 12px;
      font-size: 12px;
      cursor: pointer;
      text-transform: uppercase;
    }

    .filter-btn:hover { background: #eee; }

    .filter-btn.active {
      background: var(--color-primary);
      border-color: var(--color-primary);
      color: #fff;
    }

    .filters-row {
      display: flex;
      gap: 10px;
      flex-wrap: wrap;
      align-items: center;
      margin-top: 8px;
    }

    .filters-row label {
      font-size: 12px;
      color: #555;
    }

    .filters select {
      padding: 8px 10px;
      border-radius: 8px;
      border: 1px solid #ccc;
      font-size: 14px;
      width: 100%;
      max-width: 220px;
    }

    /* Carrito */
    .cart-panel {
      background: #fff;
      border-radius: 14px;
      padding: 16px 18px 18px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.12);
      position: sticky;
      top: 90px;
      font-size: 14px;
      max-width: 360px;
      width: 100%;
      justify-self: center;
      text-align: left;
      align-self: flex-start;
    }

    .cart-title {
      font-size: 18px;
      font-weight: 700;
      margin-bottom: 10px;
    }

    .cart-items {
      max-height: 220px;
      overflow-y: auto;
      margin-bottom: 10px;
      border-top: 1px solid #eee;
      border-bottom: 1px solid #eee;
      padding: 8px 0;
      font-size: 13px;
    }

    .cart-item {
      margin-bottom: 8px;
      padding-bottom: 6px;
      border-bottom: 1px dashed #eee;
    }

    .cart-item:last-child { border-bottom: none; }

    .cart-item-main {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 4px;
    }

    .cart-item-name { font-weight: 600; }

    .cart-item-subtotal {
      font-weight: 600;
      color: var(--color-primary);
    }

    .cart-item-actions {
      display: flex;
      align-items: center;
      gap: 6px;
      font-size: 12px;
    }

    .qty-btn,
    .remove-btn {
      border: none;
      border-radius: 999px;
      padding: 2px 7px;
      cursor: pointer;
      font-size: 12px;
      background: #eee;
    }

    .qty-btn:hover { background: #ddd; }

    .remove-btn {
      background: #f8d7da;
      color: #900;
      margin-left: auto;
    }

    .remove-btn:hover { background: #f1b0b7; }

    .cart-item-qty {
      min-width: 18px;
      text-align: center;
      font-weight: 600;
    }

    .cart-empty {
      color: #777;
      font-size: 13px;
      text-align: center;
      padding: 10px 0;
    }

    .cart-total {
      display: flex;
      justify-content: space-between;
      align-items: center;
      font-weight: 700;
      margin-bottom: 10px;
      margin-top: 4px;
    }

    .cart-note {
      font-size: 11px;
      color: #777;
      margin-bottom: 10px;
    }

    .checkout-inputs {
      display: flex;
      flex-direction: column;
      gap: 8px;
      margin-bottom: 10px;
    }

    .checkout-inputs input {
      padding: 8px;
      border-radius: 6px;
      border: 1px solid #ccc;
      font-size: 13px;
      width: 100%;
    }

    .btn-cart {
      width: 100%;
      text-align: center;
      padding: 10px 14px;
      border-radius: 999px;
      border: none;
      background: var(--color-primary);
      color: #fff;
      font-size: 13px;
      font-weight: 600;
      cursor: pointer;
      margin-top: 4px;
    }

    .btn-cart:hover { background: var(--color-primary-dark); }

    /* Footer */
    footer {
      background: #000;
      color: #888;
      padding: 14px;
      text-align: center;
      font-size: 13px;
      margin-top: 40px;
    }

    @media (max-width: 900px) {
      .hero-inner { grid-template-columns: 1fr; }
      .catalog-layout { grid-template-columns: 1fr; }
      .cart-panel { position: static; max-width: none; }
      .sidebar {
        max-width: 480px;
        width: 100%;
        margin: 0 auto;
      }
    }
  </style>
</head>

<body>

  <!-- TOP BAR -->
  <div class="top-bar">
    <span>☎ 011-4759-1224</span>
    <span>WhatsApp 11 3728-6846</span>
    <span>Industria argentina • Venta mayorista y minorista</span>
  </div>

  <!-- HEADER -->
  <header>
    <div class="nav-inner">
      <a href="index.html" class="logo">
        <div class="logo-img"></div>
        <div class="logo-text">
          <strong>SEGUDAB</strong>
          <span>Equipamiento táctico y policial</span>
        </div>
      </a>

      <nav>
        <a href="index.html">Inicio</a>
        <a href="productos.html">Productos</a>
        <a href="porque-elegirnos.html">¿Por qué elegirnos?</a>
        <a href="contacto.html" class="nav-cta">Consultar ahora</a>
      </nav>
    </div>
  </header>

  <!-- HERO -->
  <section class="hero">
    <div class="hero-inner">
      <div>
        <h1 class="hero-title">Catálogo de productos</h1>
        <p class="hero-subtitle">Botas, cinturones, fundas, credenciales e indumentaria</p>

        <p class="hero-text">
          Seleccioná los productos que necesitás y armá tu pedido. Luego podés enviarnos la consulta con el detalle
          para coordinar stock y formas de pago.
        </p>

        <div class="hero-buttons">
          <a
            href="https://wa.me/5491137286846?text=Hola%20Segudab,%20quisiera%20consultar%20por%20compras%20mayoristas"
            class="btn btn-primary"
            target="_blank"
            rel="noopener"
          >
            Consulta mayorista
          </a>
        </div>
      </div>
    </div>
  </section>

  <!-- AVISO -->
  <div class="notice-bar">Insignias policiales se venden únicamente a personal de fuerzas con identificación.</div>

  <!-- SECCIÓN CATÁLOGO -->
  <section class="section">
    <div class="section-inner">
      <h2 class="section-title">Productos destacados</h2>
      <p class="section-subtitle">
        Catálogo orientativo. Los precios pueden variar según talle, modelo y cantidad. Consultá para presupuesto final.
      </p>
    </div>

    <div class="catalog-layout">
      <!-- PRODUCTOS -->
      <div class="product-grid">

        <!-- BOTAS TÁCTICAS -->
        <div class="product-card"
             data-category="botas"
             data-price="45000">
          <div class="product-image" style="background-image:url('borcegui-negro-1.jpg');"></div>
          <div class="product-body">
            <div class="product-tag">Botas tácticas</div>
            <div class="product-name">Borceguí táctico negro</div>
            <div class="product-desc">
              Suela antideslizante, costura reforzada y caña media. Ideal servicio diario.
            </div>
            <div class="product-footer">
              <span class="product-price">$45.000</span>
              <button class="btn-small"
                      data-name="Borceguí táctico negro"
                      data-price="45000">
                Agregar
              </button>
            </div>
          </div>
        </div>

        <div class="product-card"
             data-category="botas"
             data-price="48000">
          <div class="product-image" style="background-image:url('borcegui-arena.jpg');"></div>
          <div class="product-body">
            <div class="product-tag">Botas tácticas</div>
            <div class="product-name">Borceguí color arena</div>
            <div class="product-desc">
              Capellada respirable, plantillas confort y cordones reforzados.
            </div>
            <div class="product-footer">
              <span class="product-price">$48.000</span>
              <button class="btn-small"
                      data-name="Borceguí color arena"
                      data-price="48000">
                Agregar
              </button>
            </div>
          </div>
        </div>

        <div class="product-card"
             data-category="botas"
             data-price="52000">
          <div class="product-image" style="background-image:url('borcegui-cierre-lateral.jpg');"></div>
          <div class="product-body">
            <div class="product-tag">Botas tácticas</div>
            <div class="product-name">Borceguí con cierre lateral</div>
            <div class="product-desc">
              Caña alta, cierre lateral y puntera reforzada para uso intensivo.
            </div>
            <div class="product-footer">
              <span class="product-price">$52.000</span>
              <button class="btn-small"
                      data-name="Borceguí con cierre lateral"
                      data-price="52000">
                Agregar
              </button>
            </div>
          </div>
        </div>

        <!-- CINTURONES Y FUNDAS -->
        <div class="product-card"
             data-category="cinturones-fundas"
             data-price="39000">
          <div class="product-image" style="background-image:url('cinturon-policial-completo.jpg');"></div>
          <div class="product-body">
            <div class="product-tag">Cinturones y fundas</div>
            <div class="product-name">Cinturón policial completo</div>
            <div class="product-desc">
              Incluye porta arma, porta cargador doble, porta esposas y porta bastón.
            </div>
            <div class="product-footer">
              <span class="product-price">$39.000</span>
              <button class="btn-small"
                      data-name="Cinturón policial completo"
                      data-price="39000">
                Agregar
              </button>
            </div>
          </div>
        </div>

        <div class="product-card"
             data-category="cinturones-fundas"
             data-price="26000">
          <div class="product-image" style="background-image:url('cinturon-simple.jpg');"></div>
          <div class="product-body">
            <div class="product-tag">Cinturones y fundas</div>
            <div class="product-name">Cinturón táctico simple</div>
            <div class="product-desc">
              Cinta de alta resistencia con hebilla rápida. Compatible con fundas modulares.
            </div>
            <div class="product-footer">
              <span class="product-price">$26.000</span>
              <button class="btn-small"
                      data-name="Cinturón táctico simple"
                      data-price="26000">
                Agregar
              </button>
            </div>
          </div>
        </div>

        <div class="product-card"
             data-category="cinturones-fundas"
             data-price="28000">
          <div class="product-image" style="background-image:url('pechera-porta-radio.jpg');"></div>
          <div class="product-body">
            <div class="product-tag">Cinturones y fundas</div>
            <div class="product-name">Pechera porta radio y credencial</div>
            <div class="product-desc">
              Regulable, resistente y con compartimentos múltiples para radio, credencial y lapiceras.
            </div>
            <div class="product-footer">
              <span class="product-price">$28.000</span>
              <button class="btn-small"
                      data-name="Pechera porta radio y credencial"
                      data-price="28000">
                Agregar
              </button>
            </div>
          </div>
        </div>

        <!-- CREDENCIALES -->
        <div class="product-card"
             data-category="credenciales"
             data-price="12000">
          <div class="product-image" style="background-image:url('credencial-carpeta.jpg');"></div>
          <div class="product-body">
            <div class="product-tag">Credenciales</div>
            <div class="product-name">Carpeta porta credencial</div>
            <div class="product-desc">
              Modelo para distintas fuerzas. Incluye espacio para placa y DNI.
            </div>
            <div class="product-footer">
              <span class="product-price">$12.000</span>
              <button class="btn-small"
                      data-name="Carpeta porta credencial"
                      data-price="12000">
                Agregar
              </button>
            </div>
          </div>
        </div>

        <div class="product-card"
             data-category="credenciales"
             data-price="13500">
          <div class="product-image" style="background-image:url('credencial-billetera.jpg');"></div>
          <div class="product-body">
            <div class="product-tag">Credenciales</div>
            <div class="product-name">Billetera porta credencial</div>
            <div class="product-desc">
              Formato billetera, cuero sintético reforzado y compartimentos para tarjetas.
            </div>
            <div class="product-footer">
              <span class="product-price">$13.500</span>
              <button class="btn-small"
                      data-name="Billetera porta credencial"
                      data-price="13500">
                Agregar
              </button>
            </div>
          </div>
        </div>

        <!-- INDUMENTARIA -->
        <div class="product-card"
             data-category="indumentaria"
             data-price="32000">
          <div class="product-image" style="background-image:url('pantalon-tactico.jpg');"></div>
          <div class="product-body">
            <div class="product-tag">Indumentaria</div>
            <div class="product-name">Pantalón táctico reforzado</div>
            <div class="product-desc">
              Tela ripstop, bolsillos cargo y refuerzo en rodillas para uso intensivo.
            </div>
            <div class="product-footer">
              <span class="product-price">$32.000</span>
              <button class="btn-small"
                      data-name="Pantalón táctico reforzado"
                      data-price="32000">
                Agregar
              </button>
            </div>
          </div>
        </div>

        <div class="product-card"
             data-category="indumentaria"
             data-price="34000">
          <div class="product-image" style="background-image:url('camisa-tactica.jpg');"></div>
          <div class="product-body">
            <div class="product-tag">Indumentaria</div>
            <div class="product-name">Camisa táctica negra</div>
            <div class="product-desc">
              Tejido respirable, mangas largas y porta lapicera en brazo.
            </div>
            <div class="product-footer">
              <span class="product-price">$34.000</span>
              <button class="btn-small"
                      data-name="Camisa táctica negra"
                      data-price="34000">
                Agregar
              </button>
            </div>
          </div>
        </div>

        <div class="product-card"
             data-category="indumentaria"
             data-price="58000">
          <div class="product-image" style="background-image:url('campera-softshell.jpg');"></div>
          <div class="product-body">
            <div class="product-tag">Indumentaria</div>
            <div class="product-name">Campera softshell táctica</div>
            <div class="product-desc">
              Impermeable, abrigada y con múltiples bolsillos. Ideal guardias nocturnas.
            </div>
            <div class="product-footer">
              <span class="product-price">$58.000</span>
              <button class="btn-small"
                      data-name="Campera softshell táctica"
                      data-price="58000">
                Agregar
              </button>
            </div>
          </div>
        </div>

      </div>

      <!-- SIDEBAR: FILTROS + CARRITO -->
      <div class="sidebar">
        <!-- FILTROS -->
        <div class="filters">
          <h3>Filtrar productos</h3>

          <!-- Filtro por categoría -->
          <div class="filter-buttons">
            <button class="filter-btn active" data-category="all">Todos</button>
            <button class="filter-btn" data-category="botas">Botas tácticas</button>
            <button class="filter-btn" data-category="cinturones-fundas">Cinturones y fundas</button>
            <button class="filter-btn" data-category="credenciales">Credenciales</button>
            <button class="filter-btn" data-category="indumentaria">Indumentaria</button>
          </div>

          <!-- Filtro por precio (aparte) -->
          <div class="filters-row">
            <label for="filter-price">Filtrar por precio:</label>
            <select id="filter-price">
              <option value="all">Todos los precios</option>
              <option value="low">Menos de $20.000</option>
              <option value="mid">Entre $20.000 y $40.000</option>
              <option value="high">Más de $40.000</option>
            </select>
          </div>
        </div>

        <!-- CARRITO -->
        <aside class="cart-panel">
          <div class="cart-title">Carrito de compras (<span id="cart-count">0</span>)</div>

          <div id="cart-items" class="cart-items">
            <div class="cart-empty">Todavía no agregaste productos.</div>
          </div>

          <div class="cart-total">
            <span>Total estimado:</span>
            <span id="cart-total">$0</span>
          </div>

          <div class="cart-note">
            Este carrito es orientativo. Para confirmar precios y stock, completá tus datos y envianos el pedido por WhatsApp.
          </div>

          <div class="checkout-inputs">
            <input id="checkout-nombre" type="text" placeholder="Nombre y apellido" />
            <input id="checkout-telefono" type="text" placeholder="Teléfono" />
            <input id="checkout-email" type="email" placeholder="Correo (opcional)" />
          </div>

          <button class="btn-cart" onclick="finalizarCompraWhatsApp()">
            Finalizar compra por WhatsApp
          </button>
        </aside>
      </div>
    </div>
  </section>

  <!-- FOOTER -->
  <footer>
    © 2025 Segudab — Todos los derechos reservados.
  </footer>

  <!-- SCRIPT CARRITO + WHATSAPP + FILTROS -->
  <script>
    const CART_KEY = 'segudab_cart';
    let cart = [];

    function loadCart() {
      const stored = localStorage.getItem(CART_KEY);
      if (!stored) return;
      try {
        const parsed = JSON.parse(stored);
        if (Array.isArray(parsed)) cart = parsed;
      } catch (e) {
        console.error('Error leyendo carrito de localStorage', e);
      }
    }

    function saveCart() {
      localStorage.setItem(CART_KEY, JSON.stringify(cart));
    }

    function renderCart() {
      const cartItemsContainer = document.getElementById('cart-items');
      const cartCount = document.getElementById('cart-count');
      const cartTotal = document.getElementById('cart-total');

      cartItemsContainer.innerHTML = '';

      if (cart.length === 0) {
        cartItemsContainer.innerHTML = '<div class="cart-empty">Todavía no agregaste productos.</div>';
        cartCount.textContent = '0';
        cartTotal.textContent = '$0';
        return;
      }

      let total = 0;
      let count = 0;

      cart.forEach(item => {
        total += item.price * item.qty;
        count += item.qty;

        const div = document.createElement('div');
        div.className = 'cart-item';
        div.innerHTML = `
          <div class="cart-item-main">
            <span class="cart-item-name">${item.name}</span>
            <span class="cart-item-subtotal">$${(item.price * item.qty).toLocaleString('es-AR')}</span>
          </div>
          <div class="cart-item-actions">
            <button class="qty-btn" data-action="decrease" data-name="${item.name}">−</button>
            <span class="cart-item-qty">${item.qty}</span>
            <button class="qty-btn" data-action="increase" data-name="${item.name}">+</button>
            <button class="remove-btn" data-action="remove" data-name="${item.name}">✕</button>
          </div>
        `;
        cartItemsContainer.appendChild(div);
      });

      cartCount.textContent = count;
      cartTotal.textContent = '$' + total.toLocaleString('es-AR');
    }

    function addToCart(name, price) {
      const existing = cart.find(p => p.name === name);
      if (existing) {
        existing.qty += 1;
      } else {
        cart.push({ name, price: Number(price), qty: 1 });
      }
      saveCart();
      renderCart();
    }

    function updateItemQty(name, delta) {
      const item = cart.find(p => p.name === name);
      if (!item) return;
      item.qty += delta;
      if (item.qty < 1) item.qty = 1;
      saveCart();
      renderCart();
    }

    function removeFromCart(name) {
      const index = cart.findIndex(p => p.name === name);
      if (index !== -1) {
        cart.splice(index, 1);
        saveCart();
        renderCart();
      }
    }

    // Botones "Agregar"
    document.querySelectorAll('.btn-small').forEach(btn => {
      btn.addEventListener('click', () => {
        const name = btn.getAttribute('data-name');
        const price = btn.getAttribute('data-price');
        addToCart(name, price);
      });
    });

    // Botones dentro del carrito
    document.getElementById('cart-items').addEventListener('click', (e) => {
      const btn = e.target.closest('button');
      if (!btn) return;

      const action = btn.dataset.action;
      const name = btn.dataset.name;
      if (!action || !name) return;

      if (action === 'increase') {
        updateItemQty(name, 1);
      } else if (action === 'decrease') {
        updateItemQty(name, -1);
      } else if (action === 'remove') {
        removeFromCart(name);
      }
    });

    function finalizarCompraWhatsApp() {
      if (cart.length === 0) {
        alert('Primero agregá productos al carrito.');
        return;
      }

      const nombre = document.getElementById('checkout-nombre').value.trim();
      const telefono = document.getElementById('checkout-telefono').value.trim();
      const email = document.getElementById('checkout-email').value.trim();

      if (!nombre || !telefono) {
        alert('Por favor completá nombre y teléfono para enviar el pedido.');
        return;
      }

      let texto = 'Hola Segudab, quiero hacer un pedido desde la web:%0A%0A';
      texto += 'Nombre: ' + nombre + '%0A';
      texto += 'Teléfono: ' + telefono + '%0A';
      if (email) texto += 'Email: ' + email + '%0A';
      texto += '%0AProductos:%0A';

      let total = 0;
      cart.forEach(item => {
        total += item.price * item.qty;
        texto += '- ' + item.qty + ' x ' + item.name + '%0A';
      });

      texto += '%0ATotal estimado: $' + total.toLocaleString('es-AR') + '%0A';
      texto += '%0A¿Me podrían confirmar stock, precio final y formas de pago?';

      const numero = '5491137286846';
      const url = 'https://wa.me/' + numero + '?text=' + texto;

      window.open(url, '_blank');
    }

    /* FILTROS */
    let currentCategory = 'all';
    const filterButtons = document.querySelectorAll('.filter-btn');
    const filterPrice = document.getElementById('filter-price');

    function applyFilters() {
      const priceFilter = filterPrice.value;

      document.querySelectorAll('.product-card').forEach(card => {
        const cardCat = card.dataset.category;
        const priceValue = Number(card.dataset.price);

        let show = true;

        // por categoría
        if (currentCategory !== 'all' && cardCat !== currentCategory) {
          show = false;
        }

        // por precio
        if (priceFilter !== 'all') {
          if (priceFilter === 'low' && priceValue >= 20000) show = false;
          if (priceFilter === 'mid' && (priceValue < 20000 || priceValue > 40000)) show = false;
          if (priceFilter === 'high' && priceValue <= 40000) show = false;
        }

        card.style.display = show ? 'block' : 'none';
      });
    }

    filterButtons.forEach(btn => {
      btn.addEventListener('click', () => {
        filterButtons.forEach(b => b.classList.remove('active'));
        btn.classList.add('active');
        currentCategory = btn.dataset.category;
        applyFilters();
      });
    });

    filterPrice.addEventListener('change', applyFilters);

    document.addEventListener('DOMContentLoaded', () => {
      loadCart();
      renderCart();
      applyFilters();
    });
  </script>

</body>
</html>
